# direnv configuration for ghSender project
# This automatically activates the local Flutter toolchain when entering the project directory

export FLUTTER_HOME="$PWD/toolchain/flutter"
export PATH="$FLUTTER_HOME/bin:$PATH"
export PUB_CACHE="$PWD/toolchain/cache/pub"
export FLUTTER_ROOT="$FLUTTER_HOME"

# Set Chrome executable for Flutter web development
export CHROME_EXECUTABLE="$HOME/Applications/Google Chrome.app/Contents/MacOS/Google Chrome"

# Set up Ruby/rbenv environment
export RBENV_ROOT="$PWD/toolchain/rbenv"
export GEM_HOME="$PWD/toolchain/gems"
export GEM_PATH="$GEM_HOME"
export PATH="$RBENV_ROOT/bin:$GEM_HOME/bin:$PATH"

# Initialize rbenv if available
if [[ -x "$RBENV_ROOT/bin/rbenv" ]]; then
    eval "$("$RBENV_ROOT/bin/rbenv" init -)"
fi

echo "âœ… Activated ghSender Flutter toolchain"
echo "   Flutter: $(which flutter 2>/dev/null || echo 'not found')"
echo "   Dart: $(which dart 2>/dev/null || echo 'not found')"
echo "   Ruby: $(which ruby 2>/dev/null || echo 'not found')"
echo "   CocoaPods: $(which pod 2>/dev/null || echo 'not found')"
echo "   Chrome: ${CHROME_EXECUTABLE}"